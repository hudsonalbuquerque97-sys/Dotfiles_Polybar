;==========================================================
; MÓDULO: SISTEMA
; Brightness, Bluetooth, Data/Hora e Power Menu
; Criado por Hudson Albuquerque 
;==========================================================

;==========================================================
; BRIGHTNESS (XRANDR para Desktop)
; Script localizado em: ~/.config/polybar/scripts/
;==========================================================

[module/brightness]
type = custom/script
exec = ~/.config/polybar/scripts/brightness.sh
interval = 1

click-left = bash -c 'xrandr --output $(xrandr | grep " connected" | head -1 | cut -f1 -d " ") --brightness 1.0'
click-middle = bash -c 'xrandr --output $(xrandr | grep " connected" | head -1 | cut -f1 -d " ") --brightness 0.8'
click-right = bash -c 'xrandr --output $(xrandr | grep " connected" | head -1 | cut -f1 -d " ") --brightness 0.6'
scroll-up = bash -c 'monitor=$(xrandr | grep " connected" | head -1 | cut -f1 -d " "); current=$(xrandr --verbose | grep -i brightness | head -1 | cut -f2 -d " "); if [ -z "$current" ]; then current=1.0; fi; new=$(echo "$current + 0.05" | bc); if [ $(echo "$new > 1.0" | bc -l) -eq 1 ]; then new=1.0; fi; xrandr --output "$monitor" --brightness $new'
scroll-down = bash -c 'monitor=$(xrandr | grep " connected" | head -1 | cut -f1 -d " "); current=$(xrandr --verbose | grep -i brightness | head -1 | cut -f2 -d " "); if [ -z "$current" ]; then current=1.0; fi; new=$(echo "$current - 0.05" | bc); if [ $(echo "$new < 0.1" | bc -l) -eq 1 ]; then new=0.1; fi; xrandr --output "$monitor" --brightness $new'

format = <label>
format-background = ${colors.background}
format-padding = 2
label = %output%
label-foreground = ${colors.primary}

;==========================================================
; BLUETOOTH (Opcional)
; Scripts localizados em: ~/.config/polybar/scripts/
;==========================================================

;[module/bluetooth]
;type = custom/script
;exec = ~/.config/polybar/scripts/bluetooth-status.sh
;interval = 5
;click-left = ~/.config/polybar/scripts/bluetooth-toggle.sh

;==========================================================
; DATA E HORA
;==========================================================

[module/date]
type = internal/date
interval = 1
date = %d/%m/%y
time = %H:%M:%S
label = 󰃭 %date% 󰥔 %time%

;==========================================================
; MENU DO SISTEMA (Power Menu)
; Script localizado em: ~/.config/polybar/scripts/
;==========================================================

[module/sysmenu]
type = custom/text
format =  ⏻ 
format-foreground = ${colors.alert}
click-left = ~/.config/polybar/scripts/powermenu.sh

;==========================================================
; SYSTEM TRAY
;==========================================================

[module/tray]
type = internal/tray
tray-size = 12
tray-spacing = 8px
tray-padding = 2
